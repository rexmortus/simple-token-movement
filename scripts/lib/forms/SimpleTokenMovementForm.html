<nav class="token-controller-tabs tabs" data-group="primary-tabs">
  <a class="item" data-tab="tab1" data-group="primary-tabs">Movement</a>
  <a class="item" data-tab="tab2" data-group="primary-tabs">Actions</a>
  <a class="item" data-tab="tab3" data-group="primary-tabs">Abilities/Skills</a>
</nav>

<section class="token-controller-content">
  <div class="tab" data-tab="tab1" data-group="primary-tabs">
    <div class="token-controller-grid">
      <div class="mtmc-topleft">↖️</div>
      <div class="mtmc-top">⬆️</div>
      <div class="mtmc-topright">↗️</div>
      <div class="mtmc-left">⬅️</div>
      <div class="mtmc-select"><img src="{{character.prototypeToken.texture.src}}" class="character-image" alt=""></div>
      <div class="mtmc-right">➡️</div>
      <div class="mtmc-bottomleft">↙️</div>
      <div class="mtmc-bottom">⬇️</div>
      <div class="mtmc-bottomright">↘️</div>  
    </div>
  </div>

  <!-- Actions tab -->
  <div class="tab" data-tab="tab2" data-group="primary-tabs">
    <div class="simple-token-controller-actions">


      {{#checklength actionList.action.size 0}}
        <h3 class="items-header">Actions</h3>
        <table>
          {{#each actionList.action}}
            <tr class="token-controller-action" data-event-type="action" data-action-subtype="action" data-action-index="{{@index}}">
              <td><img src="{{this.img}}" alt="" height="32px" width="32px"></td>
              <td>{{this.name}}</td>
              <td>{{this.labels.activation}}</td>
            </tr>
          {{/each}}
        </table>
      {{/checklength}}

      
      {{#checklength actionList.bonus.size 0}}
        <h3>Bonus</h3>
        <table>
          {{#each actionList.bonus}}
            <tr class="token-controller-action" data-event-type="action" data-action-subtype="bonus" data-action-index="{{@index}}">
              <td><img src="{{this.img}}" alt="" height="32px" width="32px"></td>
              <td>{{this.name}}</td>
              <td>{{this.labels.activation}}</td>
            </tr>
          {{/each}}
        </table>
      {{/checklength}}

      {{#checklength actionList.crew.size 0}}
        <h3>Crew</h3>
        <table>
          {{#each actionList.crew}}
            <tr class="token-controller-action" data-event-type="action" data-action-subtype="crew" data-action-index="{{@index}}">
              <td><img src="{{this.img}}" alt="" height="32px" width="32px"></td>
              <td>{{this.name}}</td>
              <td>{{this.labels.activation}}</td>
            </tr>
          {{/each}}
        </table>
      {{/checklength}}

      {{#checklength actionList.lair.size 0}}
        <h3>Lair</h3>
        <table>
          {{#each actionList.lair}}
            <tr class="token-controller-action" data-event-type="action" data-action-subtype="lair" data-action-index="{{@index}}">
              <td><img src="{{this.img}}" alt="" height="32px" width="32px"></td>
              <td>{{this.name}}</td>
              <td>{{this.labels.activation}}</td>
            </tr>
          {{/each}}
        </table>
      {{/checklength}}

      {{#checklength actionList.legendary.size 0}}
        <h3>Legendary</h3>
        <table>
          {{#each actionList.legendary}}
            <tr class="token-controller-action" data-event-type="action" data-action-subtype="legendary" data-action-index="{{@index}}">
              <td><img src="{{this.img}}" alt="" height="32px" width="32px"></td>
              <td>{{this.name}}</td>
              <td>{{this.labels.activation}}</td>
            </tr>
          {{/each}}
        </table>
      {{/checklength}}

      {{#checklength actionList.other.size 0}}
        <h3>Other</h3>
        <table>
          {{#each actionList.other}}
            <tr class="token-controller-action" data-event-type="action" data-action-subtype="other" data-action-index="{{@index}}">
              <td><img src="{{this.img}}" alt="" height="32px" width="32px"></td>
              <td>{{this.name}}</td>
              <td>{{this.labels.activation}}</td>
            </tr>
          {{/each}}
        </table>
      {{/checklength}}

      {{#checklength actionList.reaction.size 0}}
        <h3>Reactions</h3>
        <table>
          {{#each actionList.reaction}}
            <tr class="token-controller-action" data-event-type="action" data-action-subtype="reaction" data-action-index="{{@index}}">
              <td><img src="{{this.img}}" alt="" height="32px" width="32px"></td>
              <td>{{this.name}}</td>
              <td>{{this.labels.activation}}</td>
            </tr>
          {{/each}}
        </table>
      {{/checklength}}
      

    </div>
  </div>

  <!-- Abilities / Skills Tab -->
  <div class="tab" data-tab="tab3" data-group="primary-tabs">
    <table>
      <thead>
        <tr>
          <th>Ability</th>
          <th>Value</th>
          <th>Modifier</th>
          <th>Save</th>
        </tr>
      </thead>
      {{#each character.system.abilities}}
        <tr class="token-controller-action" data-event-type="ability" data-ability="{{@key}}" style="text-align: center; font-size:16px">
          <td style="text-align: left;">
            {{#with (lookup ../abilityList @key) }}
              {{label}}
            {{/with}}
          </td>
          <td>{{this.value}}</td>
          <td>{{this.mod}}</td>
          <td>{{this.save}}</td>
        </tr>
      {{/each}}
    </table>

    <!-- Skills -->
    <table>
      <thead>
        <tr>
          <th>Skill</th>
          <th>Ability</th>
          <th>Total</th>
          <th>Passive</th>
        </tr>
      </thead>
      {{#each character.system.skills}}
        <tr class="token-controller-action" data-event-type="skill" data-skill="{{@key}}" style="text-align: center; font-size:16px">
          <td style="text-align: left;">
            {{#with (lookup ../skillList @key) }}
              {{label}}
            {{/with}}
          </td>
          <td>{{this.ability}} <span style="color: grey;">({{this.mod}})</span></td>
          <td>{{this.total}}</td>
          <td style="color: grey;">{{this.passive}}</td>
        </tr>
      {{/each}}
    </table>
  </div>

</section>